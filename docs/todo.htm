<!DOCTYPE html>
<html>
<head>
<meta charset="utf8" />
<title>Что ещё доделать</title>
</head>
<body>

<table><tr><td style="vertical-align:top;">
<h1>Что ещё доделать</h1>
</td><td style="vertical-align:top;">
<br />
</td></tr></table>

1) Отображения (Это самое важное):
<br />
1.1. SET<type>
<br />
1.2. ARRAY<type>
<br />
1.3. REF -&gt; SET
<br />
1.4. REF -&gt; ARRAY
<br />
2) Индексы для pk (сейчас их нет)
<br />
3) Индексы для fk (они нужны чтобы лучше джойнилось)
<br />
<br />
Проблема в том, что не рисунка для отображения массивов (в исходной статье было только наследование
и вроде бы с ним проблем нет, хотя и юнит-тестов ты не сделал...)
<br />
<br />
Будем обходить все классы, в классах все поля.
<br />
<br />
Если это ARRAY, то смотрим есть ли уже такого типа массив.
<br />
Если ещё нет, то создаём промежуточную таблицу с двумя колонками
<br />
<br />
Для SET всё то же самое, но колонок две - нет номера по-порядку.
<br />
<br />
поле порядкового номера пусть будет типа INTEGER

</body>
</html>
